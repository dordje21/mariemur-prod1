theme.ButtonsBlocksVisibility=function(){function t(){this.selectors={buttons:".js-button-block-visibility"},this.load()}t.prototype=$.extend({},t.prototype,{load:function(){$("[data-block-visibility]").each(function(){var t=$(this),e=t.attr("data-block-visibility");-1!=window.location.href.indexOf(e)&&(t.removeClass("d-none-important"),t.find("[data-block-visibility-focus]").focus())}),$body.on("click",this.selectors.buttons,function(t){var e=$(this),i=e.attr("data-block-link"),n=$('[data-block-visibility="'+i+'"]');if(n.length){var a=e.attr("data-action-close-popup");return n["close"===e.attr("data-action")?"addClass":"open"===e.attr("data-action")?"removeClass":"toggleClass"]("d-none-important"),a&&theme.Popups.closeByName(a),n.hasClass("d-none-important")||n.find("[data-block-visibility-focus]").focus(),t.preventDefault(),!1}})}}),theme.ButtonsBlocksVisibility=new t},$(function(){theme.ButtonsBlocksVisibility()}),theme.Collections=function(){function t(){this.dom={$collections:$(".js-collections")},this.dom.$collections.length&&this.load()}t.prototype=$.extend({},t.prototype,{current:{url:null,ajax:null},url:{collection:null,params:null},controls:{collection:null,params:null},content:{collection:null},_parseUrl:function(){var o=this;this.current.url=decodeURIComponent(window.location.href),this.current.ajax=this.current.url,-1!=this.current.ajax.indexOf("view=")?$.each([6,12,18,24],function(){o.current.ajax.replace("view="+this,"view="+this+"-ajax")}):(this.current.ajax+=-1!=this.current.ajax.indexOf("?")?"&":"?",this.current.ajax+="view=ajax");var t=this.current.url.split("collections/")[1].split("/");this.url.collection=t[0].split("?")[0],this.url.params=null;var s=-1!=this.current.url.indexOf("custom-filter");if(this.current.url.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(t,e,i){var n,a=i.split("+");s&&"constraint"===e?(n=a,$.each(n,function(){if("custom-filter"!==this){o.url.params||(o.url.params={});var t=this.split("="),e=t[0],i=t[1];"tag"===e&&(e="constraint"),o.url.params[e]||(o.url.params[e]=[]),o.url.params[e].push(i)}})):(o.url.params||(o.url.params={}),o.url.params[e]=a)}),t[1]&&t[1].split("?")[0].length){var e=t[1].split("?")[0].split("+");o.url.params||(o.url.params={}),o.url.params.constraint||(o.url.params.constraint=[]),$.each(e,function(){o.url.params.constraint.push(this)})}},_buildUrl:function(o){var s=this,r={},c={},t=this.controls.collection?this.controls.collection:this.url.collection;this.current.url="/collections/"+t,this.controls.params&&(this.controls.params.vendor||this.controls.params.type||this.controls.params.title||this.controls.params.price||this.controls.params.only_available||window.page.default.only_available?(r.constraint="custom-filter",c.constraint="custom-filter",$.each(["constraint","vendor","type","title","price","page","only_available"],function(t,e){if(s.controls.params[this]){var i="constraint"===e?"tag":e,n=!1;$.each(o,function(t,e){i===e&&(n=e)});var a=(i="+"+i+"=")+s.controls.params[e].join("price"===e?"-":i);n||(r.constraint+=a.replace(/ /gi,"-")),c.constraint+=a.replace(/ /gi,"-")}}),!this.controls.params.only_available&&window.page.default.only_available&&(c.constraint+="+only_available=true"),$.each(["sort_by","view"],function(){if(s.controls.params[this]){var t=s.controls.params[this][0];r[this]=t,c[this]=t}})):($.each(this.controls.params,function(t,e){var i=e.join("+");r[t]=i,c[t]=i}),$.each(o,function(){delete r[this]}))),c.view=c.view?c.view+"-ajax":"ajax",r=$.param(r),c=$.param(c),this.current.ajax=this.current.url,r&&(this.current.url+="?"+decodeURIComponent(r)),c&&(this.current.ajax+="?"+decodeURIComponent(c))},_setUrl:function(){history.pushState({foo:"filters"},this.current.url,this.current.url)},_parseControls:function(){var e=this,o={};this.controls.collection=null,this.controls.params=null,$.each(["collection"],function(){var t=$('[name="'+this+'"]:checked').val();t&&(e.controls[this]=t)}),this.controls.collection||(this.controls.collection=this.url.collection),$.each({sort_by:"sort_by",view:"view_length",only_available:"only_available"},function(t,e){var i=$('[name="'+e+'"]').val(),n=window.page.default[e]+"";i&&i!==n&&(o[t]=[i])}),$.each({constraint:["collection_with_tag","filter_by_tag","filter_by_color"],vendor:"filter_by_vendor",type:"filter_by_type"},function(t,e){var i=[];$.each($.isArray(e)?e:[e],function(){$('[name="'+this+'"]:checked').each(function(){for(var t=$(this).val(),e=0;e<i.length;e++)if(i[e]===t)return;i.push(t)})}),i.length&&(o[t]=i)}),$(["filter_by_title"]).each(function(){var t=$('[name="'+this+'"]').val();t&&(o.title=[t])}),$(["filter_by_price"]).each(function(){var t=$('[name="'+this+'"]'),e=t.val();if(e){var i=e?e.split(";"):null,n=i?+i[0]:+t.attr("data-from"),a=i?+i[1]:+t.attr("data-to");n==+t.attr("data-min")&&a==+t.attr("data-max")||(o.price=[100*n,100*a])}}),$(["filter_by_title"]).each(function(){var t=$('[name="'+this+'"]').val();t&&(o.title=[t])}),$(["page"]).each(function(){var t=$('[name="'+this+'"]').val();t&&1!=+t&&(o[this]=[t])}),Object.keys(o).length&&(this.controls.params=o)},_setControls:function(){var n=this;if($.each({sort_by:"sort_by",view:"view_length"},function(t,e){var i=n.url.params&&n.url.params[t]?n.url.params[t]:window.page.default[e];$('[name="'+e+'"]').val(i).trigger("update")}),$('[name="collection"]').removeAttr("checked"),$('[name="collection"][value="'+this.url.collection+'"]').prop("checked","checked"),$('[name="collection_with_tag"], [name="filter_by_tag"], [name="filter_by_color"], [name="filter_by_vendor"], [name="filter_by_type"], [name="only_available"]').removeAttr("checked"),$.each({constraint:["collection_with_tag","filter_by_tag","filter_by_color"],vendor:"filter_by_vendor",type:"filter_by_type",only_available:"only_available"},function(t,i){n.url.params&&n.url.params[t]&&$.each(n.url.params[t],function(){var e=this;$.each($.isArray(i)?i:[i],function(){var t="collection_with_tag"===this?'[data-section-for-collection="'+n.url.collection+'"] ':"";$(t+'[name="'+this+'"][value="'+e+'"]').prop("checked","checked")})})}),$('[name="filter_by_title"]').val(this.url.params&&this.url.params.title?this.url.params.title:""),this.url.params&&this.url.params.price){var t=this.url.params.price[0].split("-");theme.RangeOfPrice&&theme.RangeOfPrice.update(t[0]/100,t[1]/100)}else theme.RangeOfPrice&&theme.RangeOfPrice.reset()},_checkCurrentFilters:function(t){t&&(delete t.page,delete t.sort_by,delete t.view),this.$current_filter[t&&Object.keys(t).length?"removeClass":"addClass"]("d-none")},loadContent:function(s,r,e){var c=this;this.xhr&&this.xhr.abort(),theme.Loader.set($('[data-js-collection-replace="products"]'),{fixed:!0,spinner:!theme.current.is_mobile&&null}),this.xhr=$.ajax({type:"GET",url:this.current.ajax,cache:!1,dataType:"html",success:function(t){var o=$(t);theme.ProductsView&&theme.ProductsView.update(o.find("[data-js-products]")),$("[data-js-collection-replace]").each(function(){var t=$(this),e=t[0].hasAttribute("data-js-collection-replace-only-full");if(c.content.collection!==s.collection||!e){var i=t.attr("data-js-collection-replace"),n=$('[data-js-collection-replace="'+i+'"]'),a=o.find('[data-js-collection-replace="'+i+'"]');"page"===r&&"add"===n.attr("data-js-collection-replace-method")?(n.append(a.children()),"products"===i&&theme.Loader.unset(n)):(n.replaceWith(a),a[0].hasAttribute("data-js-collection-replace-hide-empty")&&a.parents("[data-js-collection-nav-section]")[a.find("input").length?"removeClass":"addClass"]("d-none"),"products"===i&&theme.Loader.unset(a),n.remove()),c.$pagination=c.dom.$collections.find("[data-js-collection-pagination]"),theme.current.is_mobile&&theme.Loader.unset(c.$sidebar)}}),theme.ImagesLazyLoad.update(),c.content.collection!==s.collection&&$.each({sort_by:"sort_by",view:"view_length"},function(t,e){var i=s.params&&s.params[t]?s.params[t]:window.page.default[e];$('[name="'+e+'"]').val(i).trigger("update")}),theme.ProductCurrency.update(),theme.StoreLists.checkProductStatus(),theme.ProductReview.update(),theme.Tooltip&&theme.Tooltip.init(),o.remove(),c.xhr=null,c.content.collection=s.collection,e&&e()}})},removeFilter:function(t,e){switch(t){case"tag":$('[name="collection_with_tag"], [name="filter_by_tag"], [name="filter_by_color"]').filter('[value="'+e+'"]').removeAttr("checked");break;case"title":$('[name="filter_by_title"]').val("");break;case"price":theme.RangeOfPrice&&theme.RangeOfPrice.reset();break;case"vendor":$('[name="filter_by_vendor"]').filter('[value="'+e+'"]').removeAttr("checked");break;case"type":$('[name="filter_by_type"]').filter('[value="'+e+'"]').removeAttr("checked")}},onChangeControls:function(t,e){var i=this;theme.current.is_mobile&&theme.Loader.set(this.$sidebar,{fixed:!0}),"page"!==t&&$('[name="page"]').val(1),this._parseControls(),this._buildUrl(e),this._setUrl(),this.loadContent(this.controls,t,function(){i._checkCurrentFilters(i.controls.params)})},onChangeHistory:function(){var t=this;theme.current.is_mobile&&theme.Loader.set(this.$sidebar,{fixed:!0}),this._parseUrl(),this._setControls(),this.loadContent(this.url,null,function(){t._checkCurrentFilters(t.url.params)})},load:function(){var r=this,t=$("[data-js-collection-sidebar]");this.$collections_body=$("[data-js-collections-body]"),this.$sidebar=t,this.$current_filter=t.find('[data-js-collection-nav-section="current_filters"]'),this.$pagination=this.dom.$collections.find("[data-js-collection-pagination]"),this._parseUrl(),this.content.collection=r.url.collection,t.on("change","[data-js-collections-menu] input",function(){var t=$(this),e=t.attr("name");if("collection"===e)$('[data-js-collections-menu] [name="collection_with_tag"]:checked').removeAttr("checked"),$('[name="filter_by_tag"], [name="filter_by_color"], [name="filter_by_vendor"], [name="filter_by_type"]').removeAttr("checked"),$('[name="filter_by_title"]').val(""),$('[name="sort_by"]').val(page.default.sort_by),$('[name="view"]').val(page.default.view_length),$.each({sort_by:"sort_by",view:"view_length"},function(t,e){$('[name="'+e+'"]').val(window.page.default[e]).trigger("update")}),theme.RangeOfPrice&&theme.RangeOfPrice.reset();else if("collection_with_tag"===e){var i=t.parents(".collections-menu__item").find('[name="collection"]'),n=$('[data-js-collections-menu] [name="collection"]:checked').not(i);n.add(n.parents(".collections-menu__item").find('[name="collection_with_tag"]:checked')).removeAttr("checked"),i.is(":checked")||theme.RangeOfPrice&&theme.RangeOfPrice.reset(),i.prop("checked","checked")}r.onChangeControls()}),t.on("click",'[data-js-collections-menu] [name="collection"]:checked',function(){var t=$(this),e=t.parents(".collections-menu__item").find('[name="collection_with_tag"]:checked');e.length&&(e.removeAttr("checked"),t.change())}),t.on("change","[data-js-collection-filters] input",function(){r.onChangeControls()}),t.on("change",'[name="only_available"]',function(){var t=$(this),e=!!t.is(":checked");t.attr("value",e),r.onChangeControls()}),t.on("click","[data-js-collection-filter-by-title] button",function(){r.onChangeControls()}),t.on("keyup","[data-js-collection-filter-by-title] input",$.debounce(500,function(){r.onChangeControls()})),this.dom.$collections.on("change","[data-js-collection-sort-by] select, [data-js-collection-view-length] select",function(){r.onChangeControls()}),this.dom.$collections.on("click","[data-js-collection-pagination] a",function(t){var e,i,n=$(this),a=n.parents("[data-js-collection-pagination]"),o=n.attr("data-value")||n.attr("href").split("page=")[1].split("&")[0],s=a.attr("data-pagination-type");return $('[name="page"]').val(o),"button_load_more"!==s&&"infinite_scroll"!==s||(e=["page"]),r.onChangeControls("page",e),"button_load_more"!==s&&"infinite_scroll"!==s&&(i=theme.StickyHeader&&theme.StickyHeader.$sticky?theme.StickyHeader.$sticky.stickyHeader("getStickyHeight"):0,$("html, body").velocity("stop").velocity("scroll",{offset:r.$collections_body.offset().top-i,duration:1e3*theme.animations.pagination.scroll_duration})),t.preventDefault(),!1}),"infinite_scroll"===this.$pagination.attr("data-pagination-type")&&$window.on("load",function(){$window.on("scroll",function(){r.$pagination[0].getBoundingClientRect().top<theme.current.height&&!r.$pagination[0].hasAttribute("data-js-loading")&&(r.$pagination.attr("data-js-loading",!0),r.$pagination.find("a").trigger("click"))})}),t.on("click","[data-js-collection-current-tags] [data-value]",function(){var t=$(this),e=t.attr("data-value"),i=t.attr("data-filter-type");r.removeFilter(i,e),r.onChangeControls()}),t.on("click","[data-js-collection-current-tags-clear]",function(){$("[data-js-collection-current-tags] [data-value]").each(function(){var t=$(this),e=t.attr("data-value"),i=t.attr("data-filter-type");r.removeFilter(i,e)}),r.onChangeControls()}),$(window).on("popstate",function(){r.onChangeHistory()})},logs:function(){console.log("current",this.current),console.log("url",this.url),console.log("controls",this.controls),console.log("content",this.content),console.log(this.logId?++this.logId:this.logId=1)}}),theme.Collections=new t},$(function(){theme.Collections()}),theme.ContentBuilder=function(){function t(){this.selectors={elem:".js-content-builder",button:"[data-js-content-builder-copy]",textarea:"[data-js-content-builder-textarea]"},this.attrs={textarea_name:"data-textarea-name"},this.load()}t.prototype=$.extend({},t.prototype,{load:function(){var n=this;$body.on("click",this.selectors.button,function(){var t=$(this),e=t.attr(n.attrs.textarea_name),i=t.parents(n.selectors.elem).find(n.selectors.textarea+'[name="'+e+'"]');n.copyContent(i)})},copyContent:function(t,e){if(navigator.clipboard)navigator.clipboard.writeText(t.text()).then(function(){console.log("Async: Copying to clipboard was successful!")},function(t){console.error("Async: Could not copy text: ",t)});else{t.focus(),t.select();try{console.log((document.execCommand("copy"),"successful"))}catch(t){console.error("Fallback: Oops, unable to copy",t)}t.blur(),e&&e()}}}),theme.ContentBuilder=new t},$(function(){theme.ContentBuilder()}),theme.DynamicCheckout=function(){function t(){this.load()}t.prototype=$.extend({},t.prototype,{load:function(){function t(){var t=$(this);t.parents(".js-dynamic-checkout").find("[data-js-dynamic-checkout-button-wrapper]")[t.is(":checked")?"removeClass":"addClass"]("disabled")}$body.on("change",".js-dynamic-checkout [data-js-dynamic-checkout-confirmation]",t),$(".js-dynamic-checkout [data-js-dynamic-checkout-confirmation]").each(t)}}),theme.DynamicCheckout=new t},$(function(){theme.DynamicCheckout()}),theme.Masonry=function(){function t(){jQueryBridget("masonry",window.Masonry,$),this.load()}t.prototype=$.extend({},t.prototype,{load:function(){this.init()},init:function(t){var e=this,i=$(".masonry"),n={itemSelector:'[class*="col-"]'};function a(){i.masonry(n).removeClass("invisible"),setTimeout(function(){e.update()},100)}this.$masonry=i,t?a():$(window).on("load",function(){a()})},update:function(){this.$masonry.masonry("layout")},destroy:function(){this.$masonry.masonry("destroy")}}),theme.Masonry=new t},$(function(){theme.Masonry()}),theme.Notifications=function(){function t(){this.selectors={elems:".js-notification"},this.settings={close_limit:40,translate_limit:50,opacity_limit:.4},this.load()}t.prototype=$.extend({},t.prototype,{load:function(){var o,s=this;$body.on("mousedown",this.selectors.elems,function(t){if("A"!==t.target.tagName&&!$(t.target).parents("[data-js-action]").length){s.is_holded=!0;var n=$(this),a=t.screenX;return o=0,n.addClass("animate"),setTimeout(function(){n.addClass("pressed")},0),$body.on("mousemove.notification",function(t){var e=t.screenX,i=Math.min(a+s.settings.translate_limit,Math.max(a-s.settings.translate_limit,e));o=i-a,n.removeClass("animate"),setTimeout(function(){n.css({transform:"translateX("+o+"px) scale(0.95)",opacity:Math.max((s.settings.translate_limit-Math.abs(o))/s.settings.translate_limit,s.settings.opacity_limit)})},0),setTimeout(function(){n.addClass("animate")},0)}),$body.one("mouseup.notification",function(){n.trigger("mouseup")}),t.preventDefault(),!1}}),$body.on("mouseup",this.selectors.elems,function(){var i=$(this);s.is_holded=!1,$body.unbind("mousemove.notification mouseup.notification"),setTimeout(function(){if(Math.abs(o)>s.settings.close_limit){var t=i.find("[data-js-notification-inner]"),e=t.find('[data-js-action="close"]').first();if(t.hasClass("d-none"))return;i.one("transitionend",function(){o=0,i.trigger("mouseup").trigger("transitionend"),e.trigger("click"),t.trigger("transitionend"),i.trigger("onpressedend")}),i.css({transform:"translateX("+(o+20)+"px) scale(0.95)",opacity:0})}else i.removeClass("pressed"),i.one("transitionend",function(){i.removeClass("animate"),i.trigger("onpressedend")}),i.css({transform:"",opacity:""});"0s"===i.css("transition-duration")&&i.trigger("transitionend")},0)}),$body.on("close",this.selectors.elems,function(){var t=$(this);$body.unbind("mousemove.notification"),t.trigger("mouseup").trigger("transitionend")})},_cookies:function(t){var i=this,n=t.find(".js-notification-cookies");if(n.length){var e=n.find('[data-js-action="close"]'),a=$.cookie("notification-cookies"),o=n.attr("data-js-show-once"),s=+n.attr("data-js-delay"),r=+n.attr("data-js-cookies-life");return"off"!==a&&setTimeout(function(){i._show(n,function(){e.one("click",function(){if("true"===o){var t=new Date,e=864e5*r;t.setTime(t.getTime()+e),$.cookie("notification-cookies","off",{expires:t,path:"/"})}i._hide(n,function(){n.remove()}),$(this).off()})})},1e3*s),e}},_products:function(t){var e=this,i=t.find(".js-notification-products");if(i.length){var n,a,o,s=i.find('[data-js-action="close"]'),r=i.find("[data-js-notification-products-item]"),c=+i.attr("data-js-delay"),l=+i.attr("data-js-interval-min"),d=+i.attr("data-js-interval-max"),h=+i.attr("data-js-max-time-life");return setTimeout(function(){m()},1e3*c),s.on("click",function(){e._hide(i)}),s}function u(t,e){return Math.round(t-.5+Math.random()*(e-t+1))}function p(){e._hide(i,function(){m()})}function m(){clearInterval(o),!i.hasClass("d-none")||e.is_holded?e.is_holded?i.parents(".js-notification").one("onpressedend",function(){p()}):i.is(":hover")?i.one("mouseleave",function(){p()}):p():(n=r.eq(u(0,r.length-1)),a=u(l,d),r.addClass("d-none"),n.removeClass("d-none"),e._show(i,function(){setTimeout(function(){m()},1e3*a),0!==h&&(o=setTimeout(function(){e._hide(i)},1e3*h))},function(t){t()}))}},_show:function(t,e,i){function n(){setTimeout(function(){t.addClass("visible")},0),"0s"===t.css("transition-duration")&&t.trigger("transitionend")}t.unbind("transitionend"),e&&t.one("transitionend",function(){e()}),t.removeClass("d-none"),t.addClass("animate"),i?i(n):n()},_hide:function(t,e){t.unbind("transitionend"),t.one("transitionend",function(){t.addClass("d-none").removeClass("animate").removeAttr("style"),t.parents(".js-notification").trigger("close"),e&&e()}),t.removeClass("visible"),"0s"===t.css("transition-duration")&&t.trigger("transitionend")},init:function(t){this._products(t),this._cookies(t)},destroy:function(t){t.find(".js-notification-cookies, .js-notification-products").find('[data-js-action="close"]').off()}}),theme.Notifications=new t},$(function(){theme.Notifications()}),theme.Parallax=function(){function t(){this.load()}t.prototype=$.extend({},t.prototype,{load:function(){$.widget("ui.parallax",{options:{ratio:1.2},params:{},_create:function(){var t=this;if(this.params.start_width=this.element.width(),this.params.start_height=this.element.height(),this.params.start_ratio_height=this.params.start_height/this.params.start_width,this._setOption("ratio",this.element.data("ratio"),!0),this._setOption("height",this.element.data("height"),!0),this._setOption("minHeight",this.element.data("min-height"),!0),this.options.height){var e=this.options.height.split(",");this.options.height={xs:e[4],sm:e[3],md:e[2],lg:e[1],xl:e[0]}}else this.element.css({paddingTop:100*t.params.start_ratio_height+"%"});this.options.minHeight&&this.element.css({minHeight:this.options.minHeight+"px"}),this.$content=this.element.children().first(),this._calculateSize(),this._calculatePosition(),this.element.css({overflow:"hidden",position:"relative"}),this.$content.css({position:"absolute",top:"0",left:"50%",transform:"translateX(-50%)"}),$window.on("theme.resize.parallax",function(){t._calculateSize(),t._calculatePosition()}),$window.on("scroll.parallax",function(){t._calculatePosition()}),this.element.addClass("parallax--init")},_calculateSize:function(){this.params.current_width=this.element.width(),this.options.height&&this.element.css({paddingTop:this.options.height[theme.current.bp]}),this.params.current_height=this.element.height(),this.params.current_scale_width=this.params.current_width*this.options.ratio,this.params.current_scale_height=this.params.current_height*this.options.ratio,this.params.stroke_scroll=this.params.current_height+window.innerHeight,this.params.stroke_content=this.params.current_scale_height-this.params.current_height,this.params.stroke_ratio=this.params.stroke_scroll/this.params.stroke_content,this.$content.width(this.params.current_scale_width)},_calculatePosition:function(){this.params.stroke_current=this.params.stroke_scroll-this.element[0].getBoundingClientRect().bottom,this.params.stroke_current=Math.max(this.params.stroke_current,0),this.params.stroke_current=Math.min(this.params.stroke_current,this.params.stroke_scroll),this.params.current_top=-1*this.params.stroke_content+this.params.stroke_current/this.params.stroke_ratio,this.$content.css({transform:"translate(-50%, "+this.params.current_top+"px)"})},_init:function(){},_setOption:function(t,e){$.Widget.prototype._setOption.apply(this,arguments)},destroy:function(){$window.unbind("theme.resize.parallax scroll.parallax"),$.Widget.prototype.destroy.call(this)}})},init:function(t){t.hasClass("parallax--init")||t.parallax()},destroy:function(t){t.hasClass("parallax--init")&&t.parallax("destroy")}}),theme.Parallax=new t},$(function(){theme.Parallax()}),theme.PopupSubscription=function(){function t(){this.settings={popup_name:"subscription"},this.selectors={popup:".popup-subscription"},this.load()}t.prototype=$.extend({},t.prototype,{load:function(){var t=theme.Popups.getByName(this.settings.popup_name);if(t.length){var e=$(this.selectors.popup),i=$.cookie("subscription"),n=+e.attr("data-js-cookies-life")||1;function a(){var t=new Date,e=864e5*n;t.setTime(t.getTime()+e),$.cookie("subscription","off",{expires:t,path:"/"})}if(-1!==window.location.href.indexOf("customer_posted=true"))a();else if(!($(".js-subscription-confirmation-error").length&&$('[data-js-popup-name="subscription-confirmation"]').length||"off"===i)){var o=e.find("[data-js-popup-subscription-dont-show]"),s=e.attr("data-js-show-once")||!1,r=+e.attr("data-js-delay")||3;theme.Popups.addHandler(this.settings.popup_name,"close.after",function(){"true"!==s&&!o.is(":checked")||a()}),setTimeout(function(){theme.Popups.callByName("subscription")},1e3*r)}t.on("click","[data-js-popup-subscription-close-website]",function(){history.back()}),$('a[href^="https://shella-demo.myshopify.com?preview_theme_id="]').on("mousedown",function(){var t="subscription_preview_theme_id:"+$(this).attr("href").split("preview_theme_id=")[1];if("removed_subscription_cookie"!==$.cookie(t)){var e=new Date,i=864e5*n;e.setTime(e.getTime()+i),$.cookie(t,"removed_subscription_cookie",{expires:e,path:"/"}),$.cookie("subscription",null)}})}}}),theme.PopupSubscription=new t},$(function(){theme.PopupSubscription()}),theme.PopupSubscriptionСonfirmation=function(){function t(){this.settings={popup_name:"subscription-confirmation"},this.load()}t.prototype=$.extend({},t.prototype,{load:function(){var t,e=$(".js-subscription-confirmation-error");-1!==window.location.href.indexOf("customer_posted=true")?(theme.Popups.callByName(this.settings.popup_name),theme.Popups.addHandler(this.settings.popup_name,"close.after",function(){var t=window.location.href.replace("?customer_posted=true","").replace("customer_posted=true","");window.history.replaceState({path:t},"",t)})):e.length&&((t=theme.Popups.getByName(this.settings.popup_name)).find("[data-popup-subscription-confirmation-success]").addClass("d-none"),t.find("[data-popup-subscription-confirmation-error-message]").html(e.first().html()),t.find("[data-popup-subscription-confirmation-error]").removeClass("d-none"),theme.Popups.callByName(this.settings.popup_name))}}),theme.PopupSubscriptionСonfirmation=new t},$(function(){theme.PopupSubscriptionСonfirmation()}),theme.Presentation=function(){function t(){this.settings={sections_control_container:["header","gallery","home-builder","information-line","footer"],actions:["container","rtl","animation"]},this.dom={$presentation:$(".js-presentation")},this.load()}t.prototype=$.extend({},t.prototype,{load:function(){var a=this,o={};for(var t in theme.animations)for(var e in o[t]={},theme.animations[t])o[t][e]=theme.animations[t][e];function s(t,e){if("container"===t)$.each(a.settings.sections_control_container,function(){$('[data-section-type="'+this+'"]').each(function(){var t=$(this);e?(t.hasClass("container")&&t.attr("data-has-container",!0),t.addClass("container presentation-container-enabled"),"true"===t.attr("data-boxed-without-paddings")&&t.addClass("px-0")):(t[0].hasAttribute("data-has-container")?t.removeAttr("data-has-container"):t.removeClass(),"true"===t.attr("data-boxed-without-paddings")&&t.removeClass("px-0"),t.removeClass("presentation-container-enabled"))})}),$window.trigger("resize"),theme.Masonry&&theme.Masonry.update();else if("rtl"===t)$html.attr("dir",e?"rtl":"ltr"),theme.rtl=e,$(".slick-slider.slick-initialized").not(".slick-vertical").each(function(){var t=$(this),e=t.slick("getSlick").originalSettings;e.rtl=theme.rtl,t.slick("unslick"),t.slick(e)}),$window.trigger("resize");else if("animation"===t)if($body[e?"addClass":"removeClass"]("theme-css-animate"),e)for(var i in o)for(var n in o[i])theme.animations[i][n]=o[i][n];else theme.animations.tooltip.show_duration=0,theme.animations.tooltip.hide_duration=0,theme.animations.sticky_header.duration=0,theme.animations.header_tape.duration=0,theme.animations.menu.duration=0,theme.animations.dropdown.duration=0,theme.animations.accordion.duration=0,theme.animations.tabs.duration=0,theme.animations.tabs.scroll_duration=0,theme.animations.backtotop.scroll_duration=0}$.each(this.settings.actions,function(t,e){var i=a.dom.$presentation.find('[data-js-action="'+this+'"]');"enabled"!==$.cookie("presentation-"+this)||"true"===i.attr("data-invert")||i.is(":checked")?"enabled"===$.cookie("presentation-"+this)&&"true"===i.attr("data-invert")&&i.is(":checked")&&(s(e,!1),i.removeAttr("checked")):(s(e,!0),i.prop("checked","checked"))}),this.dom.$presentation.on("change","[data-js-action]",function(){var t=$(this),e=t.attr("data-js-action"),i=t.is(":checked"),n=i;"true"===t.attr("data-invert")&&(n=!n),$.cookie("presentation-"+e,n?"enabled":null,{expires:36e5,path:"/"}),setTimeout(function(){s(e,i)},1e3*theme.animations.css.duration)}),this.dom.$presentation.on("click","[data-js-presentation-close]",function(){a.dom.$presentation.hasClass("open")?a.dom.$presentation.removeClass("open"):a.dom.$presentation.addClass("open")}),theme.Global.responsiveHandler({namespace:".presentation",element:this.dom.$presentation,on_desktop:!0,events:{"mouseenter mouseleave":function(t){a.dom.$presentation["mouseenter"===t.type?"addClass":"removeClass"]("open")}}})}}),theme.Presentation=new t},$(function(){theme.Presentation()}),theme.ProductFootbar=function(){function t(){}t.prototype=$.extend({},t.prototype,{duration:function(){return 1e3*theme.animations.footbar_product.duration},init:function(t){var e=this,i=t.find(".js-footbar-product"),n=$("[data-js-footbar-product-limit]");i.length&&n.length&&($window.on("theme.resize.productFootbar scroll.productFootbar",function(){e._update(i,n)}),this._update(i,n))},_update:function(t,e){var i=e[0].getBoundingClientRect(),n=theme.StickyHeader&&theme.StickyHeader.$sticky?theme.StickyHeader.$sticky.stickyHeader("getStickyHeight"):0;i.top<n&&!t.hasClass("show")?(t.addClass("show animate"),t.velocity("stop",!0),t.velocity("slideDown",{duration:this.duration(),begin:function(){setTimeout(function(){t.addClass("visible")},0)},complete:function(){t.removeAttr("style")}})):i.top>=n&&t.hasClass("visible")&&(t.velocity("stop",!0),t.velocity("slideUp",{duration:this.duration(),begin:function(){t.removeClass("visible")},complete:function(){t.removeClass("show animate").removeAttr("style")}}))},destroy:function(){$window.unbind("theme.resize.productFootbar scroll.productFootbar")}}),theme.ProductFootbar=new t},$(function(){theme.ProductFootbar()}),theme.ProductsView=function(){function t(){this.selectors={view:".js-products-view"},this.init()}t.prototype=$.extend({},t.prototype,{init:function(){var s=this,t=localStorage.getItem("products-view");if(-1!==window.location.href.indexOf("products-view=reset")&&(t=null,localStorage.setItem("products-view",null)),t){var e=$(this.selectors.view+" [data-js-products-grid-buttons]");t=JSON.parse(t),e.each(function(){var n=$(this),a=!0;$.each(t,function(t,e){if(n.attr("data-value-"+t)!==e){var i="data-active-"+t;n.attr("data-value-"+t,e),n.find("[data-value]").removeAttr(i),n.find('[data-value="'+e+'"]').attr(i,!0),a=!1}}),a||s.update(n)})}$body.on("click",this.selectors.view+" [data-js-products-grid-buttons] [data-value]",function(){var t=$(this),i=t.parents("[data-js-products-grid-buttons]"),e=t.attr("data-value"),n=theme.current.bp,a="data-active-"+n;if(!t[0].hasAttribute(a)){var o={};i.find("[data-value]").removeAttr(a),t.attr(a,!0),i.attr("data-value-"+n,e),s.update(i),$.each(theme.breakpoints.values,function(t,e){o[t]=i.attr("data-value-"+t)}),localStorage.setItem("products-view",JSON.stringify(o))}})},update:function(t){var n=t.parents(this.selectors.view).find("[data-js-products]"),a=$("[data-js-products-grid-buttons]"),o="";a.length&&($.each(theme.breakpoints.values,function(t){var e=a.attr("data-value-"+t),i="list"===e?12:12/e;n[1==+e?"addClass":"removeClass"]("products-view-centered-"+t),n["list"===e?"addClass":"removeClass"]("products-view-list-"+t),o+=" col-","xs"!==t&&(o+=t+"-"),o+=i}),n.find("[data-js-product]").parent().attr("class",o),$window.trigger("checkImages"))}}),theme.ProductsView=new t},$(function(){theme.ProductsView()}),theme.RangeOfPrice=function(){function t(){this.dom={}}t.prototype=$.extend({},t.prototype,{init:function(){if(this.dom.$range=$(".js-range-of-price"),this.dom.$range.length){var t={type:"double",force_edges:!0,prettify:function(t){return Shopify.formatMoney(100*t,theme.moneyFormat)}};Currency&&(this.dom.$range.on("change",function(){theme.ProductCurrency.update()}),$.extend(t,{onStart:function(){setTimeout(function(){theme.ProductCurrency.update()},0)},onFinish:function(){theme.ProductCurrency.update(),theme.Collections.onChangeControls()}})),this.dom.$range.ionRangeSlider(t)}},destroy:function(){this.dom.$range&&this.dom.$range.data("ionRangeSlider")&&(this.dom.$range.ionRangeSlider("destroy"),delete this.dom)},update:function(t,e){this.dom.$range&&this.dom.$range.data("ionRangeSlider").update({from:t,to:e})},reset:function(){if(this.dom.$range.length){var t=this.dom.$range.data("ionRangeSlider");t.update({from:t.result.min,to:t.result.max})}}}),theme.RangeOfPrice=new t},$(function(){theme.RangeOfPrice()}),theme.ShippingRatesCalculation=function(){function t(){this.load()}t.prototype=$.extend({},t.prototype,{load:function(){var t=$("#shipping-calculator");if(t.length){var s=$(".shipping-calculator-info");Shopify.Cart.ShippingCalculator.show({submitButton:theme.strings.shippingCalcSubmitButton,submitButtonDisabled:theme.strings.shippingCalcSubmitButtonDisabled,customerIsLoggedIn:theme.strings.shippingCalcCustomerIsLoggedIn,moneyFormat:theme.strings.shippingCalcMoneyFormat}),t.on("updated",function(){setTimeout(function(){var t=$("#shipping-rates-feedback.success"),e=t.text(),i={zip:$("#address_zip").val(),province:$("#address_province").val(),country:$("#address_country").val()},n="";t.html(e);var a=$("<span>").addClass("price"),o=t.find("span");o.replaceWith(a),a.append(o),theme.ProductCurrency.update(),$("#shipping-rates-feedback.success").length?($.each(i,function(){this&&(n&&(n+=", "),n+=this)}),s.text(theme.strings.cart.general.shipping_calculator_data_info.replace("{{ data }}",n)).fadeIn({complete:function(){s.removeAttr("style")}}).removeClass("d-none")):s.text("").addClass("d-none")},100)})}}}),theme.ShippingRatesCalculation=new t},$(function(){theme.ShippingRatesCalculation()}),theme.StickyHeader=function(){function t(){}t.prototype=$.extend({},t.prototype,{init:function(t,e){t.attr("data-sticky-effect");if(t.length){var i={_create:function(){var i=this,t=this.bindings,e=t.find(this.options.mobile&&this.options.mobile.sticky?this.options.mobile.sticky:""),n=t.find(this.options.desktop&&this.options.desktop.sticky?this.options.desktop.sticky:""),a=$("<div>").addClass("header__spacer header__spacer--m").insertBefore(e),o=$("<div>").addClass("header__spacer header__spacer--d").insertBefore(n);function s(){var t=theme.current.is_desktop;i.bp=t?"desktop":"mobile",i.$sticky=t?n:e,i.$spacer=t?o:a,i.$sticky.length&&(t?(a.removeClass("header__spacer--visible"),o.addClass("header__spacer--visible"),e.hasClass(i.sticky_class)&&(i._unfix(e,a),i._return(i.options.mobile))):(o.removeClass("header__spacer--visible"),a.addClass("header__spacer--visible"),n.hasClass(i.sticky_class)&&(i._unfix(n,o),i._return(i.options.desktop))))}function r(){if(i.$sticky.length){var t=i.options[i.bp].limit?i.options[i.bp].limit:0,e=i.$spacer[0].getBoundingClientRect();"bottom"===t&&(t=i.$sticky.hasClass(i.sticky_class)?i.$spacer.innerHeight():i.$sticky.innerHeight()),t*=-1,e.top<t?(i.$sticky.hasClass(i.sticky_class)||(i._fix(i.$sticky,i.$spacer),i._move(i.options[i.bp])),ie||i._check_height(i.$sticky,i.options[i.bp])):i.$sticky.hasClass(i.sticky_class)&&(i._unfix(i.$sticky,i.$spacer),i._return(i.options[i.bp]))}}this.sticky_class="header__content--sticky",s(),r(),$window.on({"theme.resize.stickyHeader":function(){s(),r()},"scroll.stickyHeader":r})},_fix:function(t,e){var i=t.innerHeight();e.height(i),this.options[this.bp].fade&&t.css({opacity:0}).velocity({opacity:theme.animations.sticky_header.opacity},this.options[this.bp].duration()),t.addClass(this.sticky_class)},_unfix:function(t,e){e.removeAttr("style"),this.options[this.bp].fade&&t.velocity("stop",!0),t.removeAttr("style").removeClass(this.sticky_class)},_move:function(t){t.move&&$.each(t.move,function(){var t=$(this.elem),e=$(this.to),i=this.method||"append";this.$elem=t,this.$parent=t.parent(),e[i](t)})},_return:function(t){t.move&&$.each(t.move,function(){var t=this.method||"append";this.$parent[t](this.$elem),this.$elem=null,this.$parent=null})},_check_height:function(t,e){if(e.height){var i=this.$spacer[0].getBoundingClientRect(),n=i.bottom<=e.height?e.height:i.bottom;t.css({"min-height":n})}},getStickyHeight:function(){return this.options[this.bp]?this.options[this.bp].height||$(this.options[this.bp].sticky).innerHeight():0},destroy:function(){$(window).unbind("resize.stickyHeader scroll.stickyHeader"),$.Widget.prototype.destroy.call(this)}};return $.widget("ui.stickyHeader",i),t.stickyHeader(e),this.$sticky=t,{destroy:function(){t.stickyHeader("destroy")}}}}}),theme.StickyHeader=new t},$(function(){theme.StickyHeader()}),theme.StickySidebar=function(){function t(){this.selectors={elements:".js-sticky-sidebar"}}t.prototype=$.extend({},t.prototype,{init:function(t,e){if(!edge&&!ie){var i=t[e?"parents":"find"](this.selectors.elements);if(i.length){if(moz&&i[0].hasAttribute("data-disable-moz"))return;function n(t){t.each(function(){var t=$(this),e=t.find("[data-sticky-sidebar-inner]");if(theme.current.is_desktop)if(t.hasClass("initialize"))t.hasClass("active")||(t.stickySidebar("updateSticky"),t.addClass("active"));else{var i=t.parents("[data-sticky-sidebar-parent]"),n=theme.StickyHeader&&theme.StickyHeader.$sticky?theme.StickyHeader.$sticky.stickyHeader("getStickyHeight"):0,a=0,o=t.attr("data-top-spacing"),s=t.attr("data-bottom-spacing");void 0!==o&&(n+=+o),void 0!==s&&(a+=+s),t.stickySidebar({containerSelector:i,innerWrapperSelector:e,topSpacing:n,bottomSpacing:a}).addClass("initialize active")}else t.hasClass("initialize active")&&(t.stickySidebar("destroy"),t.removeClass("initialize active"),t.removeAttr("style"),e.removeAttr("style"))})}$window.on("theme.changed.breakpoint.sticky-sidebar",function(){n(i)}),n(i)}}},update:function(t){if(!edge&&!ie&&t.length&&theme.current.is_desktop){if(moz&&t[0].hasAttribute("data-disable-moz"))return;t.each(function(){var t=$(this);t.hasClass("initialize active")&&t.stickySidebar("updateSticky")})}},destroy:function(t,e){if(!edge&&!ie){var i=t[e?"parents":"find"](this.selectors.elements);if(i.length&&i.hasClass("initialize")){if(moz&&i[0].hasAttribute("data-disable-moz"))return;$window.unbind("theme.changed.breakpoint.sticky-sidebar"),i.stickySidebar("destroy")}}}}),theme.StickySidebar=new t},$(function(){theme.StickySidebar()}),theme.Tabs=function(){function t(){this.selectors={elements:"[data-js-tabs]"},this.load()}t.prototype=$.extend({},t.prototype,{init:function(t){var e={singleOpen:!0,anim_tab_duration:function(){return 1e3*theme.animations.tabs.duration},anim_scroll_duration:function(){return 1e3*theme.animations.tabs.scroll_duration},toggleOnDesktop:!0,scrollToOpenMobile:!1,effect:"slide",offsetTop:".header__content.header__content--sticky"};(t=t||$(".js-tabs").not(".tabs--init")).hasClass("product-tabs")&&(e=$.extend(e,{goToTab:[{elem:".spr-badge-caption",tab:"reviews"}]})),t.ttTabs(e)},load:function(){$.fn.ttTabs=function(k){function t(t){var s=$(t),o=s.find("[data-js-tabs-head]"),l=s.find("[data-js-tabs-slider]"),d=s.find("[data-js-tabs-btn]"),r=s.find("[data-js-tabs-btn-mobile]"),h=s.find("[data-js-tabs-tab]"),c=s.find("[data-js-tabs-nav-prev]"),u=s.find("[data-js-tabs-nav-next]"),p=s.attr("data-type"),m=void 0===k.scrollToOpenMobile||k.scrollToOpenMobile,f=void 0===k.singleOpen||k.singleOpen,i=void 0===k.toggleOnDesktop||k.toggleOnDesktop,g=void 0!==k.effect?k.effect:"slide",e=k.goToTab;function v(t,e){var i=e.effect||g,n={duration:k.anim_tab_duration(),complete:function(){$(this).removeAttr("style")}};function a(t){switch(i){case"toggle":t.hide().removeAttr("style");break;case"slide":t.velocity("slideUp",n);break;default:t.velocity("slideUp",n)}}if(e.desktop||f)d.removeClass("active"),a(h.filter(".active").removeClass("active").find("[data-js-tabs-content]").stop());else{var o=d.index(t);t.removeClass("active"),a(h.eq(o).removeClass("active").find("[data-js-tabs-content]").stop())}}function y(a,o){var t=d.index(a),s=h.eq(t),e=$(".js-sticky-sidebar"),r=o.effect||g,c={duration:k.anim_tab_duration(),progress:function(){theme.StickySidebar&&theme.StickySidebar.update(e)},complete:function(){o.after&&o.after(s),theme.StickySidebar&&theme.StickySidebar.update(e)}};a.addClass("active"),function(t){if(l.hasClass("slick-initialized")){var e=a.last().get(0).getBoundingClientRect().left,i=a.last().get(0).getBoundingClientRect().right,n=l.get(0).getBoundingClientRect().left;l.get(0).getBoundingClientRect().right<i?l.slick("slickNext"):e<n&&l.slick("slickPrev")}switch(r){case"toggle":t.show(),o.after&&o.after(s);break;case"slide":t.velocity("slideDown",c);break;default:t.velocity("slideDown",c)}}(s.addClass("active").find("> div").stop())}function _(t){var e=d.last().get(0).getBoundingClientRect().right,i=l.get(0).getBoundingClientRect().right;0===t?c.addClass("disabled"):c.removeClass("disabled"),e<=i?u.addClass("disabled"):u.removeClass("disabled")}function b(){l.hasClass("slick-initialized")&&($(l,c,u).off(),l.slick("unslick"),o.removeClass("tabs__head--slider"))}return d.on("click",function(t,n){var e=$(this),a=1024<window.innerWidth;n="trigger"===n;if(e.hasClass("active")){if(a&&!i)return;v(e,{desktop:a})}else v(e,{desktop:a}),y(e,{desktop:a,after:function(t){if(!a&&!n&&m){var e=t.find("[data-js-tabs-btn-mobile]").offset().top,i=theme.StickyHeader&&theme.StickyHeader.$sticky?theme.StickyHeader.$sticky.stickyHeader("getStickyHeight"):0;$("html, body").velocity("stop").velocity("scroll",{offset:e-i,duration:k.anim_scroll_duration()})}}})}),r.on("click",function(){var t=$(this).parent(),e=h.index(t);d.eq(e).trigger("click")}),$.isArray(e)&&e.length&&$(e).each(function(){var o=this;$body.on("click",this.elem,function(t){function e(){var t="horizontal"===p&&n?s.offset().top:r.eq(d.index(a)).offset().top,e=theme.StickyHeader&&theme.StickyHeader.$sticky?theme.StickyHeader.$sticky.stickyHeader("getStickyHeight"):0;$("html, body").velocity("scroll",{offset:t-e,duration:k.anim_scroll_duration()})}var i,n,a;return i=o.tab,o.scrollTo,o.focus,n=1024<window.innerWidth,(a=d.filter('[data-tab="'+i+'"]')).hasClass("active")?e():(v(a,{desktop:n,effect:"toggle"}),y(a,{desktop:n,effect:"toggle",after:function(){e()}})),t.preventDefault(),!1})}),"horizontal"===p&&$(window).on("theme.resize updateTabs",function(){var t=1024<window.innerWidth,e=l.innerWidth(),i=0;if(d.each(function(){i+=$(this).innerWidth()}),t){var n=d.filter(".active");if(!f&&1<n.length){var a=n.first();v("",{desktop:t}),y(a,{desktop:t})}e<i?(l.hasClass("slick-initialized")||(o.addClass("tabs__head--slider"),l.slick({infinite:!1,slidesToShow:1,variableWidth:!0,draggable:!1,dots:!1,arrows:!1}),c.addClass("disabled"),l.on("afterChange",function(t,e,i){_(i)}),c.on("click",function(){$(this).hasClass("disabled")||l.slick("slickPrev")}),u.on("click",function(){$(this).hasClass("disabled")||l.slick("slickNext")})),l.hasClass("slick-initialized")&&setTimeout(function(){_(d.index($("[data-js-tabs-btn].slick-current")))},0)):b()}else b()}),d.filter('[data-active="true"]').trigger("click",["trigger"]),$(window).trigger("updateTabs"),s.addClass("tabs--init"),s}$(this).each(function(){new t(this)})},this.init()}}),theme.Tabs=new t},$(function(){theme.Tabs()}),theme.Tooltip=function(){function t(){this.params={size:"small",arrow:!0,animation:"fade",inertia:!1,duration:[200,0],delay:0,theme:"shella"},this.load()}t.prototype=$.extend({},t.prototype,{load:function(){this.params=$.extend(this.params,{animation:window.theme.animations.tooltip.type,inertia:window.theme.animations.tooltip.inertia,touch:!1}),this.init()},init:function(t){this.params=$.extend(this.params,{duration:[1e3*window.theme.animations.tooltip.show_duration,1e3*window.theme.animations.tooltip.hide_duration]}),t&&(this.params=$.extend(this.params,t)),this.api=tippy("[data-js-tooltip]",this.params)},reinit:function(t){this.destroy(),this.init(t)},destroy:function(){this.api&&(this.api.destroyAll(),this.api=null)}}),theme.Tooltip=new t},$(function(){theme.Tooltip()}),theme.Trigger=function(){function t(){this.load()}t.prototype=$.extend({},t.prototype,{load:function(){var t=this;$body.on("click","[data-js-trigger]",function(){t.process($(this).attr("data-js-trigger"))})},process:function(t,e){e=e||"click",$('[data-js-trigger-id="'+t+'"]').trigger(e)}}),theme.Trigger=new t},$(function(){theme.Trigger()});
