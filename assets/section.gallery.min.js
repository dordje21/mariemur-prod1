theme.Gallery=function(){function e(e){this.$container=$(e),this.namespace=".gallery",this.onLoad()}return e.prototype=$.extend({},Section.prototype,e.prototype,{onLoad:function(){theme.is_loaded&&(theme.ImagesLazyLoad.update(),theme.Masonry&&theme.Masonry.init(!0));var e=$(".gallery"),o=e.find(".gallery__fotorama"),t=o.fotorama({thumbmargin:0,thumbborderwidth:0}).data("fotorama");o.addClass("d-none-important"),this.fotorama=t,$(".fotorama__arr--prev").append($("<i>").append(theme.Global.getIcon("006"))),$(".fotorama__arr--next").append($("<i>").append(theme.Global.getIcon("007"))),$(".fotorama__fullscreen-icon").append($("<i>").append(theme.Global.getIcon("164"))),e.on("click",".gallery__item",function(){var e=$(this).attr("data-index"),a=Math.max($html.scrollTop(),$body.scrollTop());t.show({index:e,time:0}),o.removeClass("d-none-important invisible position-absolute"),t.requestFullScreen(),$html.scrollTop(a)}),o.on("fotorama:fullscreenexit",function(){o.addClass("d-none-important invisible position-absolute")})},onUnload:function(){this.$container.off(this.namespace),theme.Masonry&&theme.Masonry.destroy(),this.fotorama&&(this.fotorama.destroy(),this.fotorama=null)}}),e}(),$(function(){theme.sections.register("gallery",theme.Gallery)});